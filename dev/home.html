<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    @@include('./template/CDN.html')
    <title>征服宇宙</title>
</head>


<body class="home_body">
<script>
    if($(window).width() > 768){
        var body= document.getElementsByTagName('body')[0]; 
        var script= document.createElement('script'); 
        script.type= 'text/javascript'; 
        script.src= 'js/skrollr.js';
        body.appendChild(script); 
    }
    //loading
    window.onload = load;
    function load() {
        $("#loading").fadeOut(1000);
    }
</script>
@@include('./template/header.html')
@@include('./template/homeAlert.html')
@@include('template/login.html')
<!-- Loading -->
<div id="loading">  
    <div class="double-bounce1"></div>
    <div class="double-bounce2"></div>
</div> 

<!-- 最上面 -->
<div class="homeStar">
    <img src="img/home_img/star.png" alt="">
    <img src="img/home_img/star2.png" alt="">
    <img src="img/home_img/star3.png" alt="">
</div>
<div class="homeWrap">
    <div class="ufo ufo1">
        <img src="img/home_img/UFO.png" alt="">
    </div>
    <div class="ufo ufo2"  
    data-0="opacity:0;top:10%;right:-30%;" 
    data-1100="opacity:1;top:30%;right:0%;" 
    data-3300="opacity:.6;top:30%;right:100%;" 
    data-4300="opacity:1;top:45%;right:-5%;" 
    data-5500="opacity:.5;top:30%;right:90%;"
    data-6000="opacity:0;top:45%;right:-20%;">
    </div>
    <script>
        if($(window).width() > 768){
            $('.ufo2').append(`<img src="img/home_img/UFO.png" alt="">`); 
        }
    </script>
    <header class="homeHeader">
        <h1>誰是宇宙大總統?</h1>
        <ul class="homeWinner">

            <li class="winner2">
                <div class="planetTxt">
                    <p id="role2">肥宅星</p>
                    <p><span id="winPoint_2"></span>支持度</p>
                </div>
                <div class="stageText" id="stage2" style="background-image: url('img/home_img/stageB2.png');">
                    <div class="alienImg alien_2">
                        <img src="img/fat.png" alt="外星人" id="roleImg2">
                    </div>
                    <p id="winPlayer_2">口業橋引路人</p>
                    <h1>2</h1>
                </div>
            </li>

            <li class="winner1">
                <div class="planetTxt">
                    <p id="role1">兔兔星</p>
                    <p><span id="winPoint_1"></span>支持度</p>
                </div>
                <div class="stageText" id="stage1" style="background-image: url('img/home_img/stageR1.png');">
                    <div class="alienImg alien_1">
                        <img src="img/rabbit.png" alt="外星人" id="roleImg1">
                    </div>
                    <p id="winPlayer_1">閃電除除子</p>
                    <h1>1</h1>
                </div>
            </li>
            
            <li class="winner3">
                <div class="planetTxt">
                    <p id="role3">派大星</p>
                    <p><span id="winPoint_3"></span>支持度</p>
                </div>
                <div class="stageText" id="stage3" style="background-image: url('img/home_img/stageY3.png');">
                    <div class="alienImg alien_3">
                        <img src="img/OneEye.png" alt="外星人" id="roleImg3">
                    </div>
                    <p id="winPlayer_3">美達</p>
                    <h1>3</h1>
                </div>
            </li>
            
        </ul>
        <h2>《上一季總排名》</h2>
        <p>每周將統計各星球支持度，</br>支持度最高之星球候選人即成為宇宙大總統</p>
    </header>
    <!-- 排行榜 -->
    <section class="leaderBoard  container">
        <div class="leaderTitle">
            <h2>即時戰況</h2>
        </div>
        <p><span id="startContest">2019/11/21</span> ~ <span id="endContest">2019/11/28</span></p>
        <ul class="boardTitle">
            <li id="rankAll">全體排名</li>
            <li id="rankP_1">派大星</li>
            <li id="rankP_2">肥宅星</li>
            <li id="rankP_3">兔兔星</li>
        </ul>
        <div class="boardInner" id="boardInner">
            <ul class="innerTitle">
                <li>名次</li>
                <li>公民</li>
                <li>支持度</li>
                <li>智慧/財富/道德</li>
            </ul>
            <ul id="innerPlayer"></ul>
                <li id="playList"></li>
            </ul>
        </div>
    </section>
    
    <section class="homeNews  container">
        <div class="newsTitle">
            <h2>熱門新聞</h2>
        </div>
        <div class="homeNewsContent">
            <div class="newsBox">
                <div class="newsitem">
                  <div class="newsPic">
                    <img src="img/fakeNews.png" alt="">
                  </div>
                  <div class="newsText">
                    <div class="newsTOP">
                      <h2>肥宅開始放寒假了</h2>
                      <h3 style="color: orangered;">已結束</h3>
                      <p>獨眼星總支持度-100</p>
                    </div>
                    
                    
                    <div class="newsBtnAll">
                      <div class="newsBtn">
                        <button id="bt1" @click="num++"><i class="fa fa-thumbs-o-up fa-2x"
                            aria-hidden="true"></i><SPan>123</SPan></button>
                        <button id="bt2"><i class="fa fa-thumbs-down fa-2x" aria-hidden="true"></i><SPan>17</SPan></button>
                        <button id="bt3" onclick="showDiscuss()"><i class="fa fa-comments fa-2x"
                            aria-hidden="true"></i><SPan>19</SPan></button>
          
                      </div>
                      <button class="report" onclick="CheckForm()">檢舉</button>
          
                    </div>
                  </div>
          
                </div>
              </div>
        </div>
        <div class="newsMore">
            <a href="news.html"">更多新聞</a>
        </div>
    </section>
    
    
    <section class="joinPlanet container">
        <div class="joinTitle">
            <h2 id="joinStar">加入星球</h2>
        </div>
        <div class="slider slider_circle_10 pla_slec">
            <div class="pla_slec_in" id="pla_slec_1">
                <div class="slec_star">
                    <div class="slec_cont">
                        <div class="chartRadarDiv" id="slec_cont_img1" style="height:110%; width: 110%" >@@include('./template/homeRader1.html')</div>
                    </div>
                    <img src="img/home_img/planet_1.png" alt="">
                    <div class="slec_alien">
                        <img src="img/home_img/alien_1.png" alt="">
                    </div>
                    <button class="homeMore_btn" id="slec_btn_1">成為此星球公民</button>
                </div>
            </div>
            <div class="pla_slec_in" id="pla_slec_2">
                <div class="slec_star">
                    <div class="slec_cont">
                        <div class="chartRadarDiv" id="slec_cont_img2" style="height:110%; width: 110%" >@@include('./template/homeRader2.html')</div>
                    </div>
                    <img src="img/home_img/planet_2.png" alt="">
                    <div class="slec_alien">
                        <img src="img/home_img/alien_2.png" alt="">
                    </div>
                    <button class="homeMore_btn" id="slec_btn_2">成為此星球公民</button>
                </div>
            </div>
            <div class="pla_slec_in" id="pla_slec_3">
                <div class="slec_star">
                    <div class="slec_cont">
                        <div class="chartRadarDiv" id="slec_cont_img3" style="height:110%; width: 110%" >@@include('./template/homeRader3.html')</div>
                    </div>
                    <img src="img/home_img/planet_3.png" alt="">
                    <div class="slec_alien">
                        <img src="img/home_img/alien_3.png" alt="">
                    </div>
                    <button class="homeMore_btn" id="slec_btn_3">成為此星球公民</button>
                </div>
            </div>
            <div class="next_button"></div>
            <div class="prev_button"></div>
        </div>
    </section>
    
    
    
    <!-- ------贊助商品區------- -->
    <section class="shopContainer"> 

        <div id="shopBlack" style="display:none;">
            <div id="shopLightBox" style="display:none;"> 
                <div class="shopAlert">
                    <p>系統訊息</p>
                </div>
                <div class="shopAlertBtn">
                <span>確定要購買此項道具?</span>  
                <button id="addToBackpack">確認</button>
                <button id="addToBackpack2">確認</button>
                <button id="addToBackpack3">確認</button>
                <button id="addToBackpack4">確認</button>
                <button id="Cancelbtn">取消</button>
                </div>
            </div>
        </div>
        <div class="shoptitle">
        <h2>贊助候選人</h2>
        </div>
        <div id="boxForDisappear">
                <div id="productBox" class="productBox">
                        <div class="model">   
                            <canvas id="myCanvas" width="350" height="600">     
                            </canvas>
                            <img class="rabbitPic" src="img/rabbit.png" alt="">    
                        </div>      
                        <div class="boxForProduct">
                            <!-- <div class="toolTitle">
                                <h3>
                                    服裝道具
                                </h3>
                                <span>
                                    購買服裝道具可以增加候選人支持度
                                </span>
                            </div>
                                <div class="col-6">
                                        <div class="productPic">
                                            <img id="shopPic1" src="img/shopPic1.png" width="128" onclick="loadImage01()"/>
                                            
                                        </div>
                                        <div class="productTitle">
                                            <h3>
                                            聰明棒球帽
                                            </h3>
                                            <div  class="productBtn">
                                                <button id="shopSpanLogin" >$100</button>
                        
                                            </div>
                                        </div>  
                                </div>
                                <div class="col-6">
                                    <div class="productPic">
                                            <img id="shopPic2" src="img/shopPic2.png" width="128" onclick="loadImage02()"/>
                                    </div>
                                    <div class="productTitle">
                                        <h3>親和力面具</h3>
                                        <div class="productBtn">
                                            <button id="shopSpanLogin" >$100</button>
                                        </div>
                                    </div>  
                                </div>    
                                <div class="col-6">
                                    <div class="productPic">
                                            <img id="shopPic3" src="img/shopPic3.png" width="128" onclick="loadImage03()"/>
                                    </div>
                                    <div class="productTitle">
                                        <h3>口才大聲公</h3>
                                        <div  class="productBtn">
                                            <button id="shopSpanLogin" >$100</button>
                                        </div>
                                        </div>  
                                </div>
                                <div class="col-6">
                                    <div class="productPic">
                                            <img id="shopPic4" src="img/shopPic4.png" width="128" onclick="loadImage04()"/>
                                    </div>
                                    <div  class="productTitle">
                                        <h3>人氣氣球</h3>
                                        <div class="productBtn">
                                            <button id="shopSpanLogin" >$100</button>
                                        </div>
                                    </div>  
                                </div> -->
                        </div> 
                    </div> 
        <div class="clearboth"></div>
        <div class="proTitle">
           <a href="shop.html">看更多</a>
        </div>
        </div>
    </section>
    
    
    <!-- 公民小學堂 -->
    <div class="container">
        <!-- 網頁標題 -->
        <div class="videoTitle">
            <h2>公民小學堂</h2>
            <script src="js/videopage.js"></script>
            <!-- <h2>地球觀測站</h2> -->
        </div>
        <!-- 影片區 -->
        <div class="video">
            <iframe id="big-video" width="560" height="315" src="https://www.youtube.com/embed/JelWsim7MjU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
        <!-- Question -->
        <div class="question">
            <div id="financeProblem"><!--金融問題區-->
                <div id="fnVideo1">  <!--影片一題庫-->
                    <div class="fnVideo1-problem" ><!--影片一第一題-->
                        <h2>1.財經題：美中貿易戰起因為何？</h2>
                        <ul>
                            <label for="fnV1P1A1"><li id="fnVideo1-problem1Ans1" class="fnV1P1A"><input type="radio" id="fnV1P1A1" name="fnV1P1" value=1>&nbsp&nbsp1.日圓貼水</li></label>
                            <label for="fnV1P1A2"><li id="fnVideo1-problem1Ans2" class="fnV1P1A"><input type="radio" id="fnV1P1A2" name="fnV1P1" value=2>&nbsp&nbsp2.英國脫歐</li></label>
                            <label for="fnV1P1A3"><li id="fnVideo1-problem1Ans3" class="fnV1P1A"><input type="radio" id="fnV1P1A3" name="fnV1P1" value=3>&nbsp&nbsp3.鉅額貿易逆差</li></label>
                            <label for="fnV1P1A4"><li id="fnVideo1-problem1Ans4" class="fnV1P1A"><input type="radio" id="fnV1P1A4" name="fnV1P1" value=4>&nbsp&nbsp4.聯準會過度量化寬鬆</li></label>
                        </ul>
                    </div>
                </div>
            </div>
            <p id="award">恭喜答對！<br>您將得到5點候選人支持度與宇宙幣100元！</p>
            <p id="wrongAns">不好意思您答錯囉！將扣您陣營候選人支持度4點</p>                
        </div>
        <a href="" class="home-more" id="moreVideo">觀看更多影片</a>
    </div>
    
    <!---------- 公民投票 ---------->
    <section class="voteSection">
        <!----- 卡片 ----->
        <div class="voteRun container">
            <h2>公民投票</h2>
            <p>參與公民投票即可獲得宇宙幣！</p>
            <div class="voteGroup" id="voteGroupRun"></div>
            <!----- 跳窗提示 ----->
            <div class="voteAlertGroup" style="display: none;">
                <div class="voteAlertDoing" style="display: none;">
                    <h2>系統訊息</h2>
                    <div class="voteAlertText">
                        <p class="voteDoingNotice"></p>
                        <select class="voteReportMessage" name="voteReportMessage" style="display: none;">
                            <option>請選擇</option>
                            <option>外部廣告</option>
                            <option>仇恨言論</option>
                            <option>色情內容</option>
                            <option>與主題無關</option>
                        </select>
                        <button type="submit" class="voteAddingSubmit" style="display: none;">確認</button>
                        <button type="submit" class="voteVotingA" style="display: none;">確認</button>
                        <button type="submit" class="voteVotingB" style="display: none;">確認</button>
                        <button type="submit" class="voteReportSubmit" style="display: none;">確認</button>
                        <button class="voteCancel">取消</button>
                    </div>
                </div>
                <div class="voteAlertDid" style="display: none;">
                    <h2>系統訊息</h2>
                    <div class="voteAlertText">
                        <p class="voteDidNotice"></p>
                        <button class="voteOkay" style="display: none;">確認</button>
                        <button class="voteKnow" style="display: none;">確認</button>
                    </div>
                </div>
            </div>
            <!----- more ----->
            <a href="vote.html"><button class="home-more">參與更多公投議題</button></a>
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js"></script>
    </section>


    <!---------- GO TO TOP ---------->
    <button type="button" id="back_to_top" >
        <img src="img/goTop.png" alt="">
    </button>

    <!-- ----- 頁尾 FOOTER ----- -->
    <footer>
        <div class="homeFooter"><img class="footerImg" src="img/home_img/homeFooter.png" alt="">
            <div class="homeFooterIn">
                <nav class="homeFooterNav">
                    <ul>
                        <li><a href="#">宇宙星聞</a></li>
                        <li><a href="#">公民學堂</a></li>
                        <li><a href="vote.html">公民投票</a></li>
                        <li><a href="#">宇宙商城</a></li>
                        <li><a href="#">公民的家</a></li>
                    </ul>
                </nav>
                <nav class="homeMedia">
                    <ul>
                        <li><i class="fa fa-instagram" aria-hidden="true"></i></li>
                        <li><i class="fa fa-twitter" aria-hidden="true"></i></li>
                        <li><i class="fa fa-facebook" aria-hidden="true"></i></li>
                    </ul>
                </nav>
                <p>Copyright © 2019 DD103G2</p>
            </div>
        </div>
        
    </footer>
    @@include('./template/footer.html');

    <!---------- 製作星星背景 ---------->
    <canvas id="starShine" witdh="100%" height="30%"></canvas>
</div>
    

<!--/////////////// JavaScript ///////////////-->
<script src="js/voteIndex.js"></script>
<script src="js/starsShine.js"></script>
<script src="js/animation.js"></script>
<script src="js/login.js"></script>
<script src="js/countUp.min.js" type="module"></script>
<script src="js/jquery.easy_slides.js"></script>
<script src="js/shop.js"></script>
<script src="js/shopAJAX.js"></script>
<!-- <script src=""></script> -->
<script>
    $(document).ready(function(){
        $(function(){
            $("#back_to_top").click(function(){
                $("html,body").animate({ scrollTop: 0 }, "normal");
                // $(".back_to_top").css('bottom','50px');  
                return false;
            });
            if(document.body.clientWidth<=992){
                goS();
            } else{
                goM();

            } 
              
        });

        function goS(){
            $("#back_to_top").attr("class","back_to_top");
            $(".back_to_top").css('opacity','1');
            if ( $(document).scrollTop() < 600 ){
                $(".back_to_top").hide();
            }else {
                $(".back_to_top").show();
            }

            $(window).scroll(function() {
                if ( $(this).scrollTop() > 600 ){
                    $(".back_to_top").fadeIn(1000);
                } else {
                    $(".back_to_top").fadeOut(1000);
                }
            });
            window.onresize = function(){
                if(document.body.clientWidth>992){
                    document.getElementById("nav-control").checked = false;
                    goM();
                }
            }
        }
        function goM(){
            $("#back_to_top").removeAttr("class").css('display','none');
            window.onresize = function(){
                if(document.body.clientWidth<=768){
                    goS();
                }
            }
        }
        
        if($(window).width() > 768){
            var s = skrollr.init();
        }
        
    
        

        $('.slider_circle_10').EasySlides({
            'autoplay': true,
            'show': 3,
            'timeout': 5000,
            'delayaftershow': 300,
        })
        

        
        //抓上季結算支持度
        contestPoint();
        function contestPoint(){
            var xhr = new XMLHttpRequest();
            xhr.onload=function (){
                if( xhr.status == 200 ){ 
                    playerData = JSON.parse(xhr.responseText);
                    new CountUp("winPoint_1",0,playerData[0]['endPoint']).start();
                    new CountUp("winPoint_2",0,playerData[1]['endPoint']).start();
                    new CountUp("winPoint_3",0,playerData[2]['endPoint']).start();
                    
                }else{ 
                    alert( xhr.status );
                }
            }
            var url = "php/contestPoint.php";
            xhr.open("Get", url, true);
            xhr.send( null );
        }
        


        // 排行榜第一個畫面
        getList1();
        function getList1(){
            
            var xhr = new XMLHttpRequest();
            xhr.onload=function (){
                if( xhr.status == 200 ){ 
                    playerData = JSON.parse(xhr.responseText);
                    HTMLstr0 = "";
                    for(var i=0; i<6; i++ ){
                        if(playerData[0][i]){
                            HTMLstr0 += ` <li class="playList"><ul><li>${i+1}</li><li>${playerData[0][i].memName}</li><li>${playerData[0][i].popularity}</li><li>${playerData[0][i].wisdom}</li><li>${playerData[0][i].charisma}</li><li>${playerData[0][i].finance}</li></ul></li>`;
                        }else{
                            HTMLstr0 += ` <li class="playList"><ul><li>--</li><li>--</li><li>--</li><li>--</li><li>--</li><li>--</li></ul></li>`;
                        }
                        document.getElementById('innerPlayer').innerHTML=HTMLstr0;
                    }
                }else{ 
                    alert( xhr.status );
                }
            }
            var url = "php/boardInner.php";
            xhr.open("Get", url, true);
            xhr.send( null );
        }
        
                    
      // 排行榜抓資料
        getPlayerList();
        
        function getPlayerList(){
            
            var xhr = new XMLHttpRequest();
            xhr.onload=function (){
                if( xhr.status == 200 ){ 
                    playerData = JSON.parse(xhr.responseText);
                   
                    HTMLstr0 = "";
                    HTMLstr1 = "";
                    HTMLstr2 = "";
                    HTMLstr3 = "";
                    for(var i=0; i<6; i++ ){
                        if(playerData[0][i]){
                            HTMLstr0 += ` <li class="playList"><ul><li>${i+1}</li><li>${playerData[0][i].memName}</li><li>${playerData[0][i].popularity}</li><li>${playerData[0][i].wisdom}</li><li>${playerData[0][i].charisma}</li><li>${playerData[0][i].finance}</li></ul></li>`;
                        }else{
                            HTMLstr0 += ` <li class="playList"><ul><li>--</li><li>--</li><li>--</li><li>--</li><li>--</li><li>--</li></ul></li>`;
                        }
                    }
                    for(var i=0; i<6; i++ ){
                        if(playerData[1][i]){
                            HTMLstr1 += ` <li class="playList"><ul><li>${i+1}</li><li>${playerData[1][i].memName}</li><li>${playerData[1][i].popularity}</li><li>${playerData[1][i].wisdom}</li><li>${playerData[1][i].charisma}</li><li>${playerData[1][i].finance}</li></ul></li>`;
                        }else{
                            HTMLstr1 += ` <li class="playList"><ul><li>--</li><li>--</li><li>--</li><li>--</li><li>--</li><li>--</li></ul></li>`;
                        }
                    }
                    for(var i=0; i<6; i++ ){
                        if(playerData[2][i]){
                            HTMLstr2 += ` <li class="playList"><ul><li>${i+1}</li><li>${playerData[2][i].memName}</li><li>${playerData[2][i].popularity}</li><li>${playerData[2][i].wisdom}</li><li>${playerData[2][i].charisma}</li><li>${playerData[2][i].finance}</li></ul></li>`;
                        }else{
                            HTMLstr2 += ` <li class="playList"><ul><li>--</li><li>--</li><li>--</li><li>--</li><li>--</li><li>--</li></ul></li>`;
                        }
                    }
                    for(var i=0; i<6; i++ ){
                        if(playerData[3][i]){
                            HTMLstr3 += ` <li class="playList"><ul><li>${i+1}</li><li>${playerData[3][i].memName}</li><li>${playerData[3][i].popularity}</li><li>${playerData[3][i].wisdom}</li><li>${playerData[3][i].charisma}</li><li>${playerData[3][i].finance}</li></ul></li>`;
                        }else{
                            HTMLstr3 += ` <li class="playList"><ul><li>--</li><li>--</li><li>--</li><li>--</li><li>--</li><li>--</li></ul></li>`;
                        }
                    }
                    // var colorAll='#84ccc9';
                    // var color_1='#fcd93d';
                    // var color_2='#58d8ff';
                    // var color_3='#ff99a2';
                    
                    // color=document.getElementById('boardInner').style.backgroundColor;
                    // if(color=colorAll){
                    //     document.getElementById('innerPlayer').innerHTML=HTMLstr0;
                    // }else if(color=color_1){
                    //     document.getElementById('innerPlayer').innerHTML=HTMLstr1;
                    // }else if(color=color_2){
                    //     document.getElementById('innerPlayer').innerHTML=HTMLstr2;
                    // }else if(color=color_3){
                    //     document.getElementById('innerPlayer').innerHTML=HTMLstr3;
                    // }
                    // console.log($('#boardInner').css('backgroundColor'));
                    
                    $('#rankAll').click(function(){
                        document.getElementById('innerPlayer').innerHTML =HTMLstr0;
                        $('#boardInner').css('backgroundColor','#84ccc9');
                        TweenMax.staggerFromTo('#innerPlayer>li', .3, {
                            x: -500,
                            opacity:0
                        }, {
                            x: 0,
                            opacity:1
                        }, 0.08);
                    });
                    $('#rankP_1').click(function(){
                        document.getElementById('innerPlayer').innerHTML =HTMLstr1;
                        $('#boardInner').css('backgroundColor','#fcd93d');
                        TweenMax.staggerFromTo('#innerPlayer>li', .3, {
                            x: -500,
                            opacity:0
                        }, {
                            x: 0,
                            opacity:1
                        }, 0.08);
                    });
                    $('#rankP_2').click(function(){
                        document.getElementById('innerPlayer').innerHTML =HTMLstr2;
                        $('#boardInner').css('backgroundColor','#58d8ff');
                        TweenMax.staggerFromTo('#innerPlayer>li', .3, {
                            x: -500,
                            opacity:0
                        }, {
                            x: 0,
                            opacity:1
                        }, 0.08);
                    });
                    $('#rankP_3').click(function(){
                        document.getElementById('innerPlayer').innerHTML =HTMLstr3;
                        $('#boardInner').css('backgroundColor','#ff99a2');
                        TweenMax.staggerFromTo('#innerPlayer>li', .3, {
                            x: -500,
                            opacity:0
                        }, {
                            x: 0,
                            opacity:1
                        }, 0.08);
                    });
                    
                    
                    TweenMax.staggerFromTo('#innerPlayer>li', .3, {
                        x: -500,
                        opacity:0
                    }, {
                        x: 0,
                        opacity:1
                    }, 0.08); 

                    setTimeout(getPlayerList, 10000);
               
                }else{ 
                    alert( xhr.status );
                }
            }
            var url = "php/boardInner.php";
            xhr.open("Get", url, true);
            xhr.send( null );
        }
        
        
        // console.log(mbName);
        // if(nameWord==""){
        //     alert(000);
        // }else{
        //     alert(111);
        // }

        //當你想用alert視窗時,請在自己程式下事件處理程序
        //ex:點button跑出alert,改變訊息 <button id=memDataCancel>

 
        //點擊取消按鈕,提醒使用者是否確定取消,叫出alert視窗
        $("#slec_btn_1").click(function(){
            $("#alertWindowWrap").css('display','block');
            document.querySelector(".alertContent").innerText = "是否確認成為派大星的公民?";
            var nameWord=document.getElementById("memberName").innerText;
            if(nameWord && $id("rankAll")){
                $('#alertButton').click(function(){
                    $("#alertButton").css('display','none');
                    $("#alertButton2").css('display','inline-block');
                    document.querySelector(".alertContent").innerText="您已選擇過星球";
                    $('#alertButton2').click(function(){
                        $("#alertWindowWrap").css('display','none');
                        $("#alertButton").css('display','inline-block');
                        $("#alertButton2").css('display','none');
                    });
                });
            }else{
                $('#alertButton').click(function(){
                // document.querySelector(".alertContent").innerText = "登入/註冊會員";
                    $("#alertWindowWrap").css('display','none');
                    loginRegister();
                });
            }
        });
        $("#slec_btn_2").click(function(){
            $("#alertWindowWrap").css('display','block');
            document.querySelector(".alertContent").innerText = "是否確認成為肥宅星的公民?";
            var nameWord=document.getElementById("memberName").innerText;
            if(nameWord && $id("rankAll")){
                $('#alertButton').click(function(){
                    $("#alertButton").css('display','none');
                    $("#alertButton2").css('display','inline-block');
                    document.querySelector(".alertContent").innerText="您已選擇過星球";
                    $('#alertButton2').click(function(){
                        $("#alertWindowWrap").css('display','none');
                        $("#alertButton").css('display','inline-block');
                        $("#alertButton2").css('display','none');
                    });
                });
            }else{
                $('#alertButton').click(function(){
                // document.querySelector(".alertContent").innerText = "登入/註冊會員";
                    $("#alertWindowWrap").css('display','none');
                    loginRegister();
                });
            }
        });
        $("#slec_btn_3").click(function(){
            $("#alertWindowWrap").css('display','block');
            document.querySelector(".alertContent").innerText = "是否確認成為兔兔星的公民?";
            var nameWord=document.getElementById("memberName").innerText;
            if(nameWord && $id("rankAll")){
                $('#alertButton').click(function(){
                    $("#alertButton").css('display','none');
                    $("#alertButton2").css('display','inline-block');
                    document.querySelector(".alertContent").innerText="您已選擇過星球";
                    $('#alertButton2').click(function(){
                        $("#alertWindowWrap").css('display','none');
                        $("#alertButton").css('display','inline-block');
                        $("#alertButton2").css('display','none');
                    });
                });
            }else{
                $('#alertButton').click(function(){
                // document.querySelector(".alertContent").innerText = "登入/註冊會員";
                    $("#alertWindowWrap").css('display','none');
                    loginRegister();
                });
            }
        });
        $('#cancelButton').click(function(){
            $("#alertWindowWrap").css('display','none');
        });
        // $('#alertButton').click(function(){
        //     // document.querySelector(".alertContent").innerText = "登入/註冊會員";
        //     $("#alertWindowWrap").css('display','none');
        //     loginRegister();
        // });
       
        $(".ufo1").fadeOut(1000);

        $(window).scroll(function(){
            if($(window).scrollTop()>=2500){
                $( ".ufo2" ).fadeIn(2000);
            }else{
                $( ".ufo2" ).fadeOut(800);
            }
        })  

        document.getElementById("moreVideo").onclick=function(e){
            var nameWord=document.getElementById("memberName").innerText;
            if(nameWord){
                document.getElementById("moreVideo").href="video.html";
                console.log("有抓到使用者名稱");
                window.location = "../dest/video.html";
            }else{
                e.preventDefault();
                enterHomeCitizen();
                console.log("沒有抓到使用者名稱，請求登入");
            }
        }
            
    });

    // 新聞用

    let getNewsNO;
            function showAllproduct(jsonStr){
            var newsdata = JSON.parse(jsonStr);
            let htmlStr = "";
            console.log( "=============",newsdata.length);
            for (var i = 0; i < 2; i++) {
                // console.log(newsdata[i].newsNo);
                htmlStr += `
                <div class="newsitem" >

                    <div class="newsPic">
                        <img src="php/images/${newsdata[i].image}" alt="">
                    </div>
                    <div class="newsText" data-news="${newsdata[i].newsNo}"> 
                        <div class="newsTOP" id="app" data-news="${newsdata[i].newsNo}">
                            
                                <h2 data-news="${newsdata[i].newsNo}">${newsdata[i].newsTitle}</h2>
                             
                                <h3 data-news="${newsdata[i].newsNo}">截止時間: <span>${newsdata[i].newsDeadline}</span></br></span></h3>
                        </div>
                        <p onclick="showDiscuss()" data-news="${newsdata[i].newsNo}">${newsdata[i].newsContent}</p>
                        <div class="newsBtnAll">
                            <div class="newsBtn" data-news="${newsdata[i].newsNo}">

                                <button class="goodBTN"><i class="fa fa-thumbs-o-up fa-2x" aria-hidden="true"></i><span class="up">${newsdata[i].newsUP}</span></button>
                        
                                <button class="LessBTN"><i class="fa fa-thumbs-o-down fa-2x" aria-hidden="true"></i><span class="down">${newsdata[i].newsDown}</span></button>
                                <button class="msgBTN"><i class="fa fa-comments fa-2x" aria-hidden="true"></i><span>留言</span></button>
                            </div>
                            <button class="report" data-newsNo=${newsdata[i].newsNo}>檢舉</button>
                        </div>
                    </div>   
              </div>
              
              `;

                       
            }
           
                        document.querySelector(".homeNewsContent").innerHTML = htmlStr;

                        //---------------------------------btn.addEventListener
                        let newsBtns = document.getElementsByClassName("newsBtn");
                        let goodBTNs = document.getElementsByClassName("goodBTN");
                        let LessBTNs = document.getElementsByClassName("LessBTN");
                        let msgBTNs = document.getElementsByClassName("msgBTN");
                        for( let i=0; i<newsBtns.length; i++){
                            
                            let newsNo = newsBtns[i].getAttribute("data-news");  
                            goodBTNs[i].addEventListener("click",pressGood);
                            goodBTNs[i].newsNo = newsNo;
                            LessBTNs[i].addEventListener("click",pressLess);
                            LessBTNs[i].newsNo = newsNo;
                            msgBTNs[i].addEventListener("click",pressMsg);
                            msgBTNs[i].newsNo = newsNo;
                        }  

          
          
                        function pressGood(e){
                          let button = e.currentTarget;
                          button.querySelector("span").innerHTML = parseInt(button.querySelector("span").innerHTML)+ 1;
                          let newsNo = e.currentTarget.newsNo;
                          console.log("=======",newsNo);
                          let xhr = new XMLHttpRequest();
                          xhr.onload = function(){
                            if(xhr.status==200){
                                console.log("=======",xhr.responseText);
                            }else{
                                alert(xhr.status);
                            }
                          }
                          xhr.open("get", "php/updateNewsUpDown.php?action=up&newsNo="+ newsNo);
                          xhr.send(null)
                        }
          
                        function pressLess(e){
                            let button = e.currentTarget;
                            button.querySelector("span").innerHTML = parseInt(button.querySelector("span").innerHTML)+ 1;
                            let newsNo = e.currentTarget.newsNo;
                            console.log("=======",newsNo);
                            let xhr = new XMLHttpRequest();
                            xhr.onload = function(){
                              if(xhr.status==200){
                                  console.log("=======",xhr.responseText);
                              }else{
                                  alert(xhr.status);
                              }
                            }
                            xhr.open("get", "php/updateNewsUpDown.php?action=down&newsNo="+ newsNo);
                            xhr.send(null)
                        }
          //........................................................
                        function pressMsg(e){
                            let button = e.currentTarget;
                            getNewsNO = e.currentTarget.newsNo;
                            let xhr = new XMLHttpRequest();
                            xhr.onload = function (){
                                if(xhr.status == 200){
                                    var newsMSG = JSON.parse(xhr.responseText);
                                    showNewsMSG(newsMSG);
                                    leftnews();
                                    $id("newsWindowWrap").style.display = "block";
                                }else{
                                    alert(xhr.status);
                                }

                            }
                            xhr.open("get", "php/NewsMSGShow.php?getNewsNO="+getNewsNO, false);
                            xhr.send(null);

                            // $.ajax({
                            //     url: `php/NewsMSGShow.php`,
                            //     dataType: "json",
                            //     data: {
                            //         "getNewsNO": getNewsNO
                            //     },
                            //     type: 'get',
                            //     success: function(data){
                            //         // alert("成功GET新聞編號");
                            //         // console.log(data);
                            //         // alert(testAjax.responseText);
                            //         showNewsMSG(data);
                            //         leftnews();
                                               
                            //     },           
                            // })
                        }
            //-------------------------
            // console.log("您點擊到的是:",e.target.parentNode.getAttribute("data-news")); 

            // newsCard.innerHTML = allprodHTML;
            BTNs();
          
        // showDiscuss();
           // 跳窗
           
            $('.newsTOP').click(function(e){
                $id("newsWindowWrap").style.display = "block";
                // console.log("您點擊到的是:",e.target.parentNode.getAttribute("data-news"));
                // console.log(e.target.getAttribute("data-news"));
                getNewsNO = e.target.parentNode.getAttribute("data-news");
                // alert(getNewsNO);
                //------------------------------
                // testAjax = 
                // console.log(getNewsNO);
                $.ajax({
                    url: `php/NewsMSGShow.php`,
                    dataType: "json",
                    data: {
                        "getNewsNO": getNewsNO
                    },
                    type: 'get',
                    success: function(data){
                        // alert("成功GET新聞編號");
                        // console.log(data);
                        // alert(testAjax.responseText);
                        showNewsMSG(data);
                        leftnews();
                                   
                    },           
                })

                // $.ajax({
                //     url: `php/NewsShow2.php`,
                //     dataType: "json",
                //     data: {
                //         "getNewsNO": getNewsNO
                //     },
                //     type: 'get',
                //     success: function(d){
                //         alert("成功GET新聞編號");
                //         // console.log(data);
                //         // alert(testAjax.responseText);
                //        ;             
                //     },           
                // })
            });
            // $("#bt").click(function (e) {
            //     let newsADD = $('#add').text();
            //     let UPtotal = parseInt(newsADD) + 1;
            //     alert(UPtotal);
            //     $.ajax({
            //         url: `php/newsMember.php`,
            //         data: {
                        
            //             balance: balance,
            //         },
            //         type: 'GET',
            //         success: function () {
                     
            //         },
            //     })
            // });

            
        } //產生新聞End
  
   //   SHOWnews 黑色板子
    function showNews() {

        var xhr = new XMLHttpRequest();
        xhr.onload = function () {
            if (xhr.status == 200) {
                showAllproduct(xhr.responseText);
            } else {
                alert(xhr.status);
            }
        }
        xhr.open("get", "php/NewsShow.php", true);
        xhr.send(null);
    }
    showNews();


    $(document).ready(function (e) {
    $("#sendMsg").click(function () {
        let xhr = new XMLHttpRequest();
        xhr.onload = function (){

            renewNewsMsg(xhr.responseText);
        }
        let newsMSG = document.getElementsByName("newsMSG")[0].value;
        let url = `php/NEWSinsertMSG.php?newsMSG=${newsMSG}&getNewsNO=${getNewsNO}`;
        xhr.open("get", url, true);
        xhr.send(null);
    });
});

function renewNewsMsg(jsonStr){
    news = JSON.parse(jsonStr);

    console.log(news);
    let newsMsgHTML = "";
    
    newsMsgHTML += `
           <div class="newsMsgitem">
           <div class="newsMsgID">
             <h3>${news.memName}</h3>
             <p>${news.newsMsgDate} </p>
           </div>
           <div class="newsMsgBox">
             <p>${news.newsMSG}</p>
           </div>
           <button class="report" data-newsNo=${news.newsNo}>檢舉</button>
         </div>
          `;
    newsMsgHTML = newsMsgHTML + document.querySelector('.newsMsgAll').innerHTML ;
    // alert(newsMsgHTML);    
    document.querySelector('.newsMsgAll').innerHTML = newsMsgHTML;
             
}
//----------------------------------------------------------------  

// 跳窗左邊內容
function leftnews(){
    // var left = JSON.parse(jsonStr);
    var xhr = new XMLHttpRequest();
    xhr.onload=function (){
         if( xhr.status == 200 ){
             console.log(xhr.responseText);
          news = JSON.parse(xhr.responseText);
        //   console.log(news);
          
         HTMLstr= `<div class="newsTOP" id="newsTOP">
          <h2>${news.newsTitle}</h2>
          <h3>截止時間: <span>${news.newsDeadline}</span> </h3>
        </div>
        <img src="images/${news.image}" alt="">
        <div class="newsText">
          <p>${news.newsContent}
          </p>
        </div>`;
        document.getElementsByClassName('newsWindowLeft')[0].innerHTML =HTMLstr;
         }else{
          alert( xhr.status );
         }
    }
    xhr.open("get", `php/NewsShow2.php?getNewsNO=${getNewsNO}`); 
    // console.log(`php/NewsShow2.php?getNewsNO=${getNewsNO}`);
    xhr.send( null );
  }
 


 //   跳窗右邊MSG資料

function showNewsMSG(newsMSG) {
        // function showAllmsg(jsonStr) {
            // var newsMSG = JSON.parse(jsonStr);
            
            let newsMsgHTML = "";
            let msgCard = document.querySelector('.newsMsgAll');
             console.log(newsMSG);
            //新聞留言
            for (var i = 0; i < newsMSG.length; i++) {
                newsMsgHTML += `
           <div class="newsMsgitem">
           <div class="newsMsgID">
             <h3>${newsMSG[i].memName}</h3>
             <p>${newsMSG[i].newsMsgDate} </p>
           </div>
           <div class="newsMsgBox">
             <p>${newsMSG[i].newsMsgContent}</p>
           </div>
           <button class="report" data-newsNo=${newsMSG[i].newsNo}>檢舉</button>
         </div>
          `;
            };
            msgCard.innerHTML = newsMsgHTML;
            BTNs();
            
    }
    // 新聞end
</script>
</body>
</html>