<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="css/style.css">
  <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
    integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <!-- 分頁 -->
  <script type="text/javascript" src="js/jquery-1.8.3.js"></script>
  <script type="text/javascript" src="js/jquery.pagination.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
 

  <title>宇宙星聞 - 征服宇宙</title>
  @@include('./template/CDN.html')
</head>

<body class="news">
  @@include('./template/header.html')
  <div class="newstitle">
    <!-- <img src="img/UFO.png" alt=""> -->
    <h1>宇宙新聞</h1>


  </div>


  <!---------- 新聞表單 ---------->

  @@include('./template/newsForm.html')
 <!-- <div class="fakeNewsLanuch">
    <h2>發佈新聞</h2>
    <form name="MakeNews">
      <div class="selectmenu">
        <p>作用星球:
          <input type="radio" id="starA" name="Planet">
          <label for="starA">派大星</label>

          <input type="radio" id="starB" name="Planet">
          <label for="starB">肥宅星</label>

          <input type="radio" id="starC" name="Planet">
          <label for="starC">兔兔星</label>
        </p>
      </div>
      <p>支持度基礎值：
        <select>
          <option>請選擇</option>
          <option>200</option>
          <option>100</option>
          <option>50</option>
          <option>-50</option>
          <option>-100</option>
          <option>-200</option>
        </select>
      </p>
      <p>新聞標題：<textarea type="text" maxlength="20" placeholder="最多輸入10個中文字" name="title"></textarea></p>
      <p>新聞內容：<textarea maxlength="240" placeholder="最多輸入120個中文字" name="content"></textarea></p>
      <button type="submit" onclick="check()">送出(<span>$100</span>)</button>
    </form>
  </div> -->
 <!---------- 檢舉跳窗提示 ---------->
 <section class="newsAlertGroup" id="newsAlertGroup" style="display: none;">
  <!-- 第一個 -->
  <div class="newsAlertDoing" style="display: none;">
      <h2>系統訊息</h2>
      <div class="newsAlertText">
          <p class="newsDoingNotice"></p>
          <select class="newsReportMessage" name="newsReportMessage" style="display: none;">
              <option>請選擇</option>
              <option value="1">外部廣告</option>
              <option value="2">仇恨言論</option>
              <option value="3">色情內容</option>
              <option value="4">與主題無關</option>
          </select>
          <!-- **串資料時加入 <button form="newsForm">** -->
          <button type="submit" class="newsAddingSubmit" style="display: none;">確認1</button>
          <!-- **串資料時加入 <button form="">** -->
          <button type="submit" class="newsVotingYes" style="display: none;">確認2</button>
          <button type="submit" class="newsVotingNo" style="display: none;">確認3</button>
          <!-- **串資料時加入 <button form="">** -->
          <button type="submit" class="newsReportSubmit" style="display: none;">確認4</button>
          <button class="newsCancel">取消</button>
      </div>
  </div>
  <div class="newsAlertDid" style="display: none;">
      <h2>系統訊息</h2>
      <div class="newsAlertText">
          <p class="newsDidNotice"></p>
          <button class="newsOkay" style="display: none;">確認</button>
          <button class="newsKnow" style="display: none;">確認</button>
      </div>
  </div>
</section>

</div>
  <!-- 留言跳窗 -->
  <div id="newsWindowWrap" style="display: none;">
    <div class="newsWindow">
      <div class="newsWindowLeft">
        <div class="newsTOP" id="newsTOP">
          <h2>這裡是標題</h2>
          <h3>剩餘時間: <span></span> </h3>
        </div>

        <img src="img/trueNews.png" alt="">
        <div class="newsText">

          <p>這裡是新聞內容，不知道會有幾個字，不知道會有幾個字，不知道會有幾個字，不知道會有幾個字，不知道會有幾個字，不知道會有幾個字，不知道會有幾個字，不知道會有幾個字，不知道會有幾個字，不知道會有幾個字
          </p>
        </div>
      </div>

      <div class="newsWindoRight" id="newsWindoRight">
        <!-- <h2>留言</h2> -->
        <div class="newsMsgAll">
          <div class="newsMsgitem">
            <div class="newsMsgID">
              <h3>玩家ID:是這樣嗎</h3>
              <p> </p>
            </div>
            <div class="newsMsgBox">
              <p>我覺得不行1</p>
            </div>
            <button class="report">檢舉</button>
          </div>
          <div class="newsMsgitem">
            <div class="newsMsgID">
              <h3>玩家ID:是這樣嗎</h3>
              <p>2019/11/08 10:41</p>
            </div>
            <div class="newsMsgBox">
              <p>我覺得不行我覺得不行我覺得不行我覺得不行我覺得不行我覺得不行我覺得不行我覺得不行我覺得不行我覺得不行</p>
            </div>
            <button class="report">檢舉</button>
          </div>
          <div class="newsMsgitem">
            <div class="newsMsgID">
              <h3>玩家ID:是這樣嗎</h3>
              <p>2019/11/08 10:41</p>
            </div>
            <div class="newsMsgBox">
              <p>我覺得不行</p>
            </div>
            <button class="report">檢舉</button>
          </div>
        </div>
        <div class="newsWindoClose"></div>
        <div class="newsDOWN">
          <div class="newsBtn">
            <!-- <div class="newsMessage">
                          <button id="bt00"><i class="fa fa-thumbs-o-up" aria-hidden="true"></i><SPan>1</SPan></button>
                          <button><i class="fa fa-thumbs-o-down" aria-hidden="true"></i><SPan>18</SPan></button>
                          <button><i class="fa fa-comments" aria-hidden="true"></i><SPan>19</SPan></button>
                          
                      </div> -->
          </div>
          <div class="newsTalk" id="newsTalk">
            <input maxlength="240" placeholder="我有話要說">
            <!-- <input type="text" @keyup.enter="addTask" v-model="newTask"> -->
            <button>送出</button>
          </div>
        </div>
        <div class="newsClose"></div>
      </div>

    </div>
  </div>

  <!-- 跳窗END -->



  <div class="newsBoxAll">
    <div class="newsBox">
      <div class="newsitem">
        <div class="newsPic">
          <img src="img/trueNews.png" alt="">
        </div>
        <div class="newsText">
          <div class="newsTOP" id="newsDiscuss">
            <h2>這裡是標題</h2>
            <h3>剩餘時間: <span>20小時48分07秒</span> </h3>
          </div>
          <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ut adipisci voluptatum fuga magni ad Lorem ipsum d
            <span>more.....</span></p>
          <div class="newsBtnAll">
            <div class="newsBtn">
              <button id="bt"><i class="fa fa-thumbs-o-up" aria-hidden="true"></i><SPan id="add"></SPan></button>
              <button><i class="fa fa-thumbs-o-down" aria-hidden="true"></i><SPan>18</SPan></button>
              <button><i class="fa fa-comments" aria-hidden="true"></i><SPan>19</SPan></button>
            </div>
            <button class="report">檢舉</button>
          </div>
        </div>
      </div>
    </div>

    <!-- <div class="newsBox">
      <div class="newsitem">
        <div class="newsPic">
          <img src="img/trueNews.png" alt="">
        </div>
        <div class="newsText">
          <div class="newsTOP" id="app">
            <h2>這裡是標題</h2>
            <h3>剩餘時間: <span>{{ `${day}天 ${hr}時 ${min}分 ${sec}秒` }}</span> </h3>
          </div>
          <p onclick="showDiscuss()">Lorem ipsum dolor sit amet consectetur adipisicing elit. Ut adipisci voluptatum fuga magni ad perferendis
            qui officiis unde ipsam provident tempora suscipit tempore, cumque doloribus, quibusdam pariatur a magnam
            quod?</p>
          <div class="newsBtnAll">
            <div class="newsBtn">
              <button><i class="fa fa-thumbs-o-up" aria-hidden="true"></i><SPan>17</SPan></button>
              <button><i class="fa fa-thumbs-o-down" aria-hidden="true"></i><SPan>18</SPan></button>
              <button><i class="fa fa-comments" aria-hidden="true"></i><SPan>19</SPan></button>

            </div>
            <button class="report">檢舉</button>

          </div>
        </div>

      </div>
    </div>


    <div class="newsBox">
      <div class="newsitem">
        <div class="newsPic">
          <img src="img/fakeNews.png" alt="">
        </div>
        <div class="newsText">
          <div class="newsTOP" onload="initial()">
            <h2>這裡是標題</h2>
            <h3>已結束</h3>
          </div>
          <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Possimus fugiat earum nulla pariatur eos
            cupiditate, quaerat accusamus molestias debitis eaque reiciendis ex assumenda blanditiis</p>
          <p>獨眼星總支持度-30</p>
          <div class="newsBtnAll">
            <div class="newsBtn">
              <button id="bt1" @click="num++"><i class="fa fa-thumbs-o-up"
                  aria-hidden="true"></i><SPan>123</SPan></button>
              <button id="bt2"><i class="fa fa-thumbs-down" aria-hidden="true"></i><SPan>17</SPan></button>
              <button id="bt3" onclick="showDiscuss()"><i class="fa fa-comments"
                  aria-hidden="true"></i><SPan>19</SPan></button>

            </div>
            <button class="report" onclick="CheckForm()">檢舉</button>

          </div>
        </div>

      </div>
    </div> -->
  </div>


  <div class="newsPageAll">
    <div class="pagination">
      <a href="#">&laquo;</a>
      <a href="#">1</a>
      <a class="active" href="#">2</a>
      <a href="#">3</a>
      <a href="#">4</a>
      <a href="#">5</a>
      <a href="#">6</a>
      <a href="#">&raquo;</a>
    </div>
  </div>




  <canvas id="starShine"></canvas>

  @@include('./template/footer.html')


  <script src="js/starsShine.js"></script>
  <script src="js/news.js"></script>
  <script type='text/javascript' src='http://www.google.com/jsapi'></script>
  <script src='jquery.timers-1.2.js' type='text/javascript'></script>

  
  <script type='text/javascript'>
  let report = $classes(".report");
  let newsAddingSubmit = $class(".newsAddingSubmit");


    var startDate = new Date('2010/11/11 08:00');
    var endDate = new Date('2010/11/15 23:00');
    var spantime = (endDate - startDate) / 1000;

    $(document).ready(function () {
      $(this).everyTime('1s', function (i) {
        spantime--;
        var d = Math.floor(spantime / (24 * 3600));
        var h = Math.floor((spantime % (24 * 3600)) / 3600);
        var m = Math.floor((spantime % 3600) / (60));
        var s = Math.floor(spantime % 60);

        if (spantime > 0) {
          $('#hour').text(h + (d * 24));
          $('#min').text(m);
          $('#sec').text(s);
        } else { // 避免倒數變成負的
          $('#hour').text(0);
          $('#min').text(0);
          $('#sec').text(0);
        }
      });
    });



    function CheckForm() {
      // newsAlertGroup.style.display="block";
      $style("newsAlertGroup").style.display = "block";

    }






  // <!-- 點擊+1 -->
 
    window.onload = function () {


      var count = 0;

      var obt = document.getElementById("bt");
      var ospan = document.getElementById("add");

      ospan.innerHTML = count;
      obt.onclick = function () {
        count = count + 1;
        ospan.innerHTML = count;
      }
    }
 

  // <!-- 跳窗 -->

    function $id(id) {
      return document.getElementById(id);
    }

    function showDiscuss() {
      $id("newsWindowWrap").style.display = "block";
    }

    function newsClose() {
      $id("newsWindowWrap").style.display = "none";
    }

    function CheckForm() {
      // newsAlertGroup.style.display="block";
      $id("newsAlertGroup").style.display = "block";

    }
 
  // <!-- 時間倒數 -->
  
    new Vue({
      el: '#app',
      data: function () {
        return {
          day: 0,
          hr: 0,
          min: 0,
          sec: 0
        }
      },
      mounted: function () {
        this.countdown()
      },
      methods: {
        countdown: function () {
          const end = Date.parse(new Date('2019-11-26'))
          const now = Date.parse(new Date())
          const msec = end - now
          let day = parseInt(msec / 1000 / 60 / 60 / 24)
          let hr = parseInt(msec / 1000 / 60 / 60 % 24)
          let min = parseInt(msec / 1000 / 60 % 60)
          let sec = parseInt(msec / 1000 % 60)
          this.day = day
          this.hr = hr > 9 ? hr : '0' + hr
          this.min = min > 9 ? min : '0' + min
          this.sec = sec > 9 ? sec : '0' + sec
          const that = this
          setTimeout(function () {
            that.countdown()
          }, 1000)
        }
      }
    })
  

 

  // <!-- 抓時間 -->
  
    // var padDate = function (value) {
    //   return value < 10 ? '0' + value : value;
    // };
    // var time = new Vue({
    //   el: '#newsTOP',
    //   data: {
    //     date: new Date()
    //   },
    //   filters: {
    //     formatDate: function (value) {
    //       var date = new Date();
    //       var year = date.getFullYear();
    //       var month = padDate(date.getMonth() + 1);
    //       var day = padDate(date.getHours());
    //       var hours = padDate(date.getHours());
    //       var minutes = padDate(date.getMinutes());
    //       var seconds = padDate(date.getSeconds());

    //       return year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds;
    //     }
    //   },
    //   mounted: function () {
    //     var _this = this;
    //     this.timer = setInterval(function () {
    //       _this.date = new Date();
    //     }, 1000);
    //   },
    //   beforeDestory: function () {
    //     if (this.timer) {
    //       clearInterval(this.timer);
    //     }
    //   }
    // })

  // <!-- 抓時間end -->


  // <!-- 表單判定 -->
  
    // <!-- // 此check()函式在最後的「傳送」案鈕會用到 -->
    function check() {
      if (!MakeNews.Planet[0].checked && !MakeNews.Planet[1].checked && !MakeNews.Planet[2].checked) {
        alert("請選擇星球");
      } else if (MakeNews.content.value == "") {
        alert("請輸入新聞內容");
      } else if (MakeNews.title.value == "") {
        alert("請輸入標題");
      } else reg.submit();
    }


  



  
   

  
  function init(){
    
    
// SHOW 留言板燈箱
    $class(".newsWindoClose").onclick=newsClose;
    $class(".fa-comments").onclick=showDiscuss;
    $id("newsDiscuss").onclick=showDiscuss;

    
  // 檢舉燈箱
   //######### 進行檢舉 #########//
   for(var i=0; i<report.length; i++){
        //---[驗證] 是否為會員 ---//

        //---[顯示] 檢舉原因選擇視窗 ---//
        report[i].onclick = function(){
            $class(".newsDoingNotice").innerText="檢舉原因：";
            $class(".newsAddingSubmit").style.display="none";
            $class(".newsReportSubmit").style.display="inline-block";
            $class(".newsReportMessage").style.display="block";
            $class(".newsVotingYes").style.display="none";
            $class(".newsVotingNo").style.display="none";
            $class(".newsAlertGroup").style.display="block";
            $class(".newsAlertDoing").style.display="block";
        }
    }
   
    $class(".newsReportSubmit").onclick = function(){
    //---[驗證] 是否有選擇檢舉原因 ---//
        let newsReportMessage = $class(".newsReportMessage");
        if(newsReportMessage.selectedIndex === 0){
            alert("請選擇檢舉原因");
            // newsDidNotice.innerText="請選擇檢舉原因";
            // newsAlertDid.style.display="block";
        }else{
    //---[隱藏] 進行檢舉確認視窗-確認-(next:通知已完成檢舉) ---//
          $class(".newsDidNotice").innerText="已檢舉該議題";
          $class(".newsOkay").style.display=""
          $class(".newsAlertDoing").style.display="none";
          $class(".newsAlertDid").style.display="block";
          $class(".newsReportMessage").selectedIndex = 0;
        }
    }

    //---[隱藏] 發起投票確認視窗-確認-(next:通知已新增投票) ---//
        $class(".newsAddingSubmit").onclick = function(){
        $class(".newsDidNotice").innerHTML="已新增投票議題，<br>恭喜您獲得100宇宙幣！";
        $class(".newsOkay").style.display=""
        $class(".newsAlertDoing").style.display="none";
        $class(".newsAlertDid").style.display="block";
    }

    //---[隱藏] 發起投票確認視窗-取消 ---//
    //---[隱藏] 進行投票確認視窗-取消 ---//
    //---[隱藏] 檢舉投票議題-取消 ---//

    let newsCancel = $classes(".newsCancel");
    for(var i=0; i<newsCancel.length; i++){
        newsCancel[i].onclick = function(){
          $class(".newsAlertGroup").style.display="none";
          $class(".newsAlertDoing").style.display="none";
          $class(".newsAlertDid").style.display="none";
        }
    }

    //---[隱藏] 通知已新增投票-確認 ---//
    //---[隱藏] 通知已完成檢舉-確認 ---//
    //---[隱藏] 通知已完成投票-確認 ---//
          $class(".newsOkay").onclick = function(){
          $class(".newsAlertGroup").style.display="none";
          $class(".newsAlertDid").style.display="none";
        }
        $class(".newsKnow").onclick = function(){
          $class(".newsAlertGroup").style.display="none";
          $class(".newsAlertDid").style.display="none";
        }
    
    };
window.onload=init;	
  </script>




</body>

</html>