<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    @@include('./template/CDN.html')
    <title>公民的家</title>
    
</head>
<body class="homeCitizen">
    <!---- 編輯會員內容區塊燈箱 ---->
    <div class="content" id="memberData" style="display: none;">
        <div class="container">
            <div class="row">

                 <form action="" class="memDataItem col-12 col-md-12">
                         <div class=" col-12">
                             <h2>編輯會員資料</h2>
                             <div class="col-12 col-md-12 wrapDataItem">
                                 <label class="col-5 col-md-5 col-lg-5 col-xl-5">會員編號 :</label>
                                 <span class="col-md-5 mem_no">1</span>
                             </div>
                             <div class="col-12 col-md-12 wrapDataItem wrapEditIcon">
                                    <label class="col-5 col-md-5 col-lg-5 col-xl-5">會員姓名 :</label>
                                    <span class="col-md-5 mem_id">王曉明</span>
                            </div>
                            <div class="col-12 col-md-12 wrapDataItem wrapEditIcon">
                                <label class="col-5 col-md-5 col-lg-5 col-xl-5">角色稱號 :</label>
                                <select name="memTitle" id="memDataLock1" class="memDataLock1" disabled="">
                                    <option>菜逼巴</option>
                                </select>
                                <img src="img/pencil.png" id="memDataEdit1" class="memDataEdit1" alt="editIcon">
                             </div>
                             <div class="col-12 col-md-12 wrapDataItem wrapEditIcon">
                                <label class="col-5 col-md-5 col-lg-5 col-xl-5">角色暱稱 :
                                </label>
                                <span class="col-md-5 mem_id">發大財</span>  
                             </div>
                             <div class="col-12 col-md-12 wrapDataItem">
                                <label class="col-5 col-md-5 col-lg-5 col-xl-5">會員帳號 : </label>
                                <span class="col-md-5 mem_id">1234</span>
                             </div>
                             <div class="col-12 col-md-12 wrapDataItem wrapEditIcon">
                                <label class="col-5 col-md-5 col-lg-5 col-xl-5">會員密碼 :
                                </label>
                                <input id="memDataLock2" class="col-5 col-md-5 col-lg-5 col-xl-5 mem_psw memDataLock"  disabled="" type="password" value="123">
                                <img src="img/pencil.png" id="memDataEdit2" alt="editIcon">
                             </div>
                             <div class="col-12 col-md-12 wrapDataItem wrapEditIcon">
                                <label class="col-5 col-md-5 col-lg-5 col-xl-5">會員信箱 :
                                </label>
                                <input id="memDataLock3" class="col-5 col-md-5 col-lg-5 col-xl-5 mem_email memDataLock"  disabled="" type="email" value="DD103G2@gmail.com">
                                <img src="img/pencil.png" id="memDataEdit3" alt="editIcon">
                            </div>
                         </div>
                         <div class="memDataBox">
                            <button id="memDataButton"type="submit">確認</button>
                            <button id="memDataCancel" type="reset">取消</button>
                        </div>
                </form>
                
             </div>
        </div>
     </div>
    <!---- alert ---->
    @@include('./template/alert.html')
    <!---- 選單區 ---->
    @@include('./template/header.html')
    <!---- 公民家內容區塊 ---->
    <div class="homeContent">
        <div class="redBall">
            <!---- 內容區塊左 ---->
            <div class="container redBallIn">
                <div class="row " >
                    <div class="col-12 col-md-4 col-lg-4 col-xl-4">
                        <div class="item boxLeft">
                            <div class="memNameBox" id="memNameBox">
                            <img src="img/badge.png" alt="">
                                <h3>菜逼巴</h3>
                                <h2>發大財</h2> 
                            </div>

                            <div class="supportBox">
                                <h4>個人貢獻支持度</h4>
                                <div class="supportBoxIn">
                                    <p>66666</p>
                                </div>
                            </div>

                            <div class="abilityBox">
                                <h4>個人能力值</h4>
                                <div class="abilityBoxIn">
                                        @@include('./template/radarChart.html')
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    <div class="col-12 col-md-4 col-lg-4 col-xl-4">
                        <div class="item boxCenter">
                            <img class="homeRabbit" src="img/rabbit.png" alt="">
                            <div id="EquiBox">
                                <img id="Equi" src="img/shopPic1.png" alt="">
                            </div>
                                <button class="memBtn" id="memDataBtn">編輯會員資料</button>
                            <!-- onclick="location.href='memberData.html'   -->
                        </div>
                    </div>
                     
                     <div class="col-12 col-md-4 col-lg-4 col-xl-4 boxRight">
                            <div id="tab-demo"> 
                                <ul class="tab-title">
                                        <li><a href="#tab01">今日道具</a></li>
                                        <li><a href="#tab02">現有道具</a></li>
                                    </ul>
                                <div class="tabIn">
                                    <div class="wrapTabIn">
                                    <div id="tab01" class="tab-inner">
                                        <div class="propBox">
                                        </div>
                                        <div class="propBox">
                                        </div>
                                        <div class="propBox">
                                        </div>
                                        <div class="propBox">
                                        </div>
                                        <div class="propBox">
                                        </div>
                                        <div class="propBox">
                                        </div>
                                        <div class="propBox">
                                        </div>
                                        <div class="propBox">
                                        </div>
                                    </div>
                                    <div id="tab02" class="tab-inner">
                                        <div class="propBox" id="itemEqui1">
                                            <img src="img/shopPic1.png" alt="">
                                        </div>
                                        <div class="propBox">
                                            <img src="img/shopPic2.png" alt="">
                                        </div>
                                        <div class="propBox">
                                        </div>
                                        <div class="propBox">
                                        </div>
                                        <div class="propBox">
                                        </div>
                                        <div class="propBox">
                                        </div>
                                        <div class="propBox">
                                        </div>
                                        <div class="propBox">
                                        </div>
                                    </div>
                                    </div>
                                </div>
                               
                            </div>
                    </div> 
                </div> 
            </div>
            <!-- <img class="redImg" src="img/redball.png" alt=""> -->
            
        </div>
    </div>
    <!---------- 製作星星背景 ---------->
    <canvas id="starShine"></canvas>
    <!-- footer -->
    @@include('./template/footer.html')
    <script src="js/starsShine.js"></script>
    <script src="js/animation.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script> 
    //=====頁籤程式碼=====   
    $(function(){
    var $li = $('ul.tab-title li');
        $($li. eq(0) .addClass('active').find('a').attr('href')).siblings('.tab-inner').hide();
    
        $li.click(function(){
            $($(this).find('a'). attr ('href')).show().siblings ('.tab-inner').hide();
            $(this).addClass('active'). siblings ('.active').removeClass('active');
        });
    });

//=====會員編輯按鈕程式=====
    function $id(id){
        return document.getElementById(id);
    }

    //點擊編輯會員按鈕,memDataBtn會出現編輯燈箱
    function showMemberForm(){
        $id("memberData").style.display = "block";//編輯視窗show出來
    } 

     //點擊取消按鈕,提醒使用者是否確定取消,叫出alert視窗
    function cancelMemData(){
        // $id("memberData").style.display = "none";
        $id("alertWindowWrap").style.display = "block";
        document.querySelector(".alertContent").innerText = "確定要取消目前變更的會員資料嗎?";
        
    }

    //點擊會員編輯鉛筆按鈕可修改資料
    function showMemDataEdit1(){
       document.getElementById("memDataLock1").disabled=false;
    }
    function showMemDataEdit2(){
        $id("memDataLock2").disabled=false;
    } 
    function showMemDataEdit3(){
        $id("memDataLock3").disabled=false;
    }

    //點擊alert視窗_確認_取消修改
    function alertCancelMemData(){
        $id("alertWindowWrap").style.display = "none";
        $id("memberData").style.display = "none";
        $id("memDataLock1").disabled=true;
        $id("memDataLock2").disabled=true;
        $id("memDataLock3").disabled=true;
        $id("Equi").style.display = "none";//解除外觀道具
    }
    //點擊alert視窗_取消_取消修改
    function alertMemData(){
        $id("alertWindowWrap").style.display = "none";
    }

     //====換外觀道具
    //設定換道具
    function showEqui( e ){
	let tagSrc =e.target.src;
    document.getElementById("Equi").src = tagSrc.replace("", "");
    document.getElementById("Equi").style.display = "block";

    }

    //設定解除道具alert跳出
    function removeEqui(){
        // $id("Equi").style.display = "none";
        $id("alertWindowWrap").style.display = "block"; //alert視窗跳出
        document.querySelector(".alertContent").innerText = "確定要解除外觀道具嗎?";//改變div文字內容 => .innerText = "自己要呈現的文字內容"  ,querySelector可抓任何一個class id img...
        
    }


    
    function init(){
        //===設定memDataBtn/memNameBox.onclick 事件理程序是 showMemberForm ,編輯會員資料按鈕
        $id("memDataBtn").onclick = showMemberForm;
        $id("memNameBox").onclick = showMemberForm;
        
        //===設定btnLogin.onclick 事件處理程序是 sendForm ,確認按鈕-送去後端資料
        // $id("memDataButton").onclick = sendForm;

        //===設定btnLoginCancel.onclick 事件處理程序是 cancelLogin ,取消按鈕-跳出視窗
        $id("memDataCancel").onclick = cancelMemData;

        //===設定memDataEdit.onclick 事件理程序是  showMemDataEdit ,會員資料編輯鉛筆按鈕
        document.getElementById("memDataEdit1").onclick = showMemDataEdit1;
        $id("memDataEdit2").onclick = showMemDataEdit2;
        $id("memDataEdit3").onclick = showMemDataEdit3;

        //===設定alertWindowWrap確認取消
        $id("alertButton").onclick = alertCancelMemData;

        //===設定alertWindowWrap不要取消
        $id("cancelButton").onclick = alertMemData;

        //===換道具
          let imgs = document.querySelectorAll(".propBox img");
        for(let i=0; i<imgs.length; i++){
            imgs[i].onclick = showEqui;
        }

        //===解除道具
        $id("Equi").onclick = removeEqui;

    }; //window.onload

    window.onload=init;	
    
    </script>
</body>
</html>